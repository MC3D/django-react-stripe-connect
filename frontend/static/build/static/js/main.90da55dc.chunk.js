(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{38:function(e,t,n){e.exports=n(72)},43:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c);n(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(16),i=n(11),s=n(12),u=n(14),m=n(13),h=n(15),p=n(3),d=n.n(p);d.a.defaults.xsrfCookieName="csrftoken",d.a.defaults.xsrfHeaderName="X-CSRFToken";var f=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={courses:[]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/api/v1/courses/").then((function(t){return e.setState({courses:t.data})})).catch((function(t){return console.log(e.error)}))}},{key:"render",value:function(){var e=this.state.courses.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement("h4",null,e.title),r.a.createElement("p",null,e.description),r.a.createElement("p",null,r.a.createElement("a",{href:"/courses/".concat(e.id,"/")},"Enroll")))}));return r.a.createElement(r.a.Fragment,null,e)}}]),t}(a.Component),v=n(20),b=n.n(v),y=n(34),k=n(9);d.a.defaults.xsrfCookieName="csrftoken",d.a.defaults.xsrfHeaderName="X-CSRFToken";var E=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={visible:!1},n.handlePayment=n.handlePayment.bind(Object(k.a)(n)),n.togglePaymentDisplay=n.togglePaymentDisplay.bind(Object(k.a)(n)),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/api/v1/courses/".concat(this.props.match.params.slug,"/")).then((function(t){return e.setState(t.data)})).catch((function(t){return console.log(e.error)}))}},{key:"togglePaymentDisplay",value:function(){this.setState((function(e){return{visible:!e.visible}}))}},{key:"handlePayment",value:function(){var e=Object(y.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.stripe.createToken({email:"buck@example.com"});case 3:return n=e.sent,a=n.token,e.next=7,d.a.post("/api/v1/courses/charge/",JSON.stringify({token:a.id,email:a.email,amount:139e4,description:"course description",course_id:"1"}));case 7:"success"===e.sent.data.status&&console.log("Purchase Complete!");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Purchase"),r.a.createElement("h4",null,"You are buying:"),r.a.createElement("p",null,"Course Title: ",r.a.createElement("em",null,this.state.title)),r.a.createElement("p",null,"Amount: $",this.state.price),this.state.visible&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.CardElement,null),r.a.createElement("button",{type:"buton",onClick:this.handlePayment},"Pay"))),!this.state.visible&&r.a.createElement("button",{type:"button",onClick:this.togglePaymentDisplay},"Pay $",this.state.price," with Card"))}}]),t}(a.Component),g=Object(l.injectStripe)(E);d.a.defaults.xsrfCookieName="csrftoken",d.a.defaults.xsrfHeaderName="X-CSRFToken";var j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n.handleConnect=n.handleConnect.bind(Object(k.a)(n)),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleConnect",value:function(){d()("/api/v1/accounts/authorize/").then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Django React Stripe Connect"),r.a.createElement("button",{type:"button",onClick:this.handleConnect},"Connect Stripe Account"))}}]),t}(a.Component),C=n(35),O=n(8);o.a.render(r.a.createElement(l.StripeProvider,{apiKey:"pk_test_4qASinaI2e8itlirCeBSidZx00NZ0Z9j8v"},r.a.createElement(C.a,null,r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/authorize/",component:j}),r.a.createElement(O.a,{exact:!0,path:"/courses/",component:f}),r.a.createElement(l.Elements,null,r.a.createElement(O.a,{path:"/courses/:slug/",component:g}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.90da55dc.chunk.js.map